<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Listado de Proveedor</title>
        <f:event listener="#{proveedorC.listar()}" type="preRenderView" />
    </h:head>
    <h:body>

        <p:growl id="growl" showDetail="true" />
        <p:growl id="growl-sticky" for="sticky-key" showDetail="true" sticky="true" />

        <h:form >
            <p:menubar >
                <p:menuitem value="Medicamento" url="./index.xhtml" />
                <p:menuitem value="Proveedor" url="./Proveedorx.xhtml" />
                <p:menuitem value="Cliente" url="./cliente.xhtml" />
                <p:menuitem value="Vendedor" url="./vendedor.xhtml" />
            </p:menubar>
        </h:form>


        <h:form id="frproveedor">


            <!--formulario del Medicamento-->

            <!--(Nombre, Telefono, Email, Direccion, Ruc, Tipo, Ncomercial, Abreviatura)-->

            <p:panelGrid style="width: 830px"
                         columns="3" layout="grid">>

                <p:outputLabel value="Nombre" />  
                <p:inputText  value="#{proveedorC.pro.nombre}"
                              
                             maxlength="30"/>

<!--                <p:message for="nombre" display="text"/>-->

                <p:outputLabel  value="Telefono" />  
                <p:inputText  value="#{proveedorC.pro.telefono}" 
                             maxlength="9" >
                    <p:keyFilter regEx="/[0-9]/" />
                </p:inputText>

<!--                <p:message for="telefono" display="text"/>-->

                <p:outputLabel  value="Email" />  
                <p:inputText  value="#{proveedorC.pro.email}" 
                             maxlength="30" /> 

<!--                <p:message for="email" display="text"/>-->

                <p:outputLabel  value="Direccion" /> 
                <p:inputText  value="#{proveedorC.pro.direccion}" 
                             maxlength="25" />

<!--                <p:message for="direccion" display="text"/>-->

                <p:outputLabel  value="Ruc" /> 
                <p:inputText  value="#{proveedorC.pro.ruc}"
                             maxlength="11"  >
                    <p:keyFilter regEx="/[0-9]/"/> 
                </p:inputText>

<!--                <p:message for="ruc" display="text"/>-->

                <p:outputLabel  value="Tipo" />  
                <p:inputText  value="#{proveedorC.pro.tipo}" 
                             maxlength="18" />

<!--                <p:message for="tipo" display="text"/>-->

                <p:outputLabel  value="Ncomercial" /> 
                <p:inputText  value="#{proveedorC.pro.ncomercial}"
                             maxlength="80" />

<!--                <p:message for="ncomercial" display="text"/>-->

                <p:outputLabel  value="Abreviatura" />  
                <p:inputText  value="#{proveedorC.pro.abreviatura}"
                             maxlength="8" />

<!--                <p:message for="abreviatura" display="text"/>-->

                <p:commandButton value="Registrar" actionListener="#{ProveedorC.registrar()}" update="tablaPro, frproveedor"/>
                <p:commandButton value="Modificar" actionListener="#{proveedorC.modificar()}" update="tablaPro, frproveedor"/>


            </p:panelGrid>    

            <h:commandLink>
                <h:graphicImage url="./../imagenes/LOGO.png" width="70px"/>
                <p:dataExporter type="pdf" target="tablaPro" fileName="Listado de proveedor" />
            </h:commandLink>



            <!--Listado del medicamento-->

            <p:dataTable var="prov" id="tablaPro" value="#{proveedorC.listarpro}"

                paginator="true" paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                currentPageReportTemplate="{startRecord}-{endRecord} de {totalRecords} datos"
                rowsPerPageTemplate="5,10,15,20">

                <p:column headerText="Idpro">
                    <h:outputText value="#{prov.idpro}" />
                </p:column>

                <p:column headerText="Nombre">
                    <h:outputText value="#{prov.nombre}" />
                </p:column>

                <p:column headerText="Telefono">
                    <h:outputText value="#{prov.telefono}" />
                </p:column>

                <p:column headerText="Email">
                    <h:outputText value="#{prov.email}" />     
                </p:column>

                <p:column headerText="Direccion">
                    <h:outputText value="#{prov.direccion}" />
                </p:column>

                <p:column headerText="Ruc">
                    <h:outputText value="#{prov.ruc}" />
                </p:column>

                <p:column headerText="Tipo">
                    <h:outputText value="#{prov.tipo}" />     
                </p:column>

                <p:column headerText="Ncomercial">
                    <h:outputText value="#{prov.ncomercial}" />
                </p:column>

                <p:column headerText="Abreviatura">
                    <h:outputText value="#{prov.abreviatura}" />
                </p:column>






                <p:column headerText="Acciones"> 


                    <p:commandButton value="Eliminar" actionListener="#{ProveedorC.eliminar(prov)}" update="tablaPro"/>
                    
                    
                    <p:commandButton  value="Obtener" actionListener="#{proveedorC.obtenerDatos(prov)}" update=":frproveedor"/>


<!--                    <p:commandButton  value="Obtener" actionListener="#{ProveedorC.obtenerDatos(prov)}" update=":frproveedor"/>-->

                </p:column>



            </p:dataTable>
        </h:form>

    </h:body>
</html>

